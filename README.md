# capstone25-med-keeper

## 1. 프로젝트 개요
 스마트폰 카메라와 텍스트 인식(OCR) 기술을 활용하여 사용자가 의약품 정보를 쉽고 빠르게 확인하고 관리할 수 있도록 지원하는 모바일 애플리케이션을 개발하였다. 본 프로젝트는 약 포장지나 설명서와 같이 일상에서 자주 접하는 의약품 관련 이미지를 촬영하면, OCR 기술을 통해 텍스트를 자동으로 인식하고 이를 기반으로 약의 효능, 용법·용량, 성분, 부작용, 금기 사항, 약물 상호작용 등 핵심적인 정보를 제공하는 것을 목표로 한다. 이를 통해 사용자가 복잡한 의약품 정보를 직접 검색하거나 해석해야 하는 부담을 줄이고, 보다 직관적인 방식으로 약 정보를 확인할 수 있도록 설계하였다.
 
 의약품 정보는 제품명, 제조사, 성분과 효능, 복용 방법, 주의사항 등 다양한 항목으로 구성되어 있으며, 정보의 양과 전문성이 높아 일반 사용자가 필요한 내용을 즉시 찾거나 체계적으로 정리하는 데 어려움이 있다. 특히 여러 약을 동시에 복용하거나, 과거에 복용했던 약을 다시 확인해야 하는 상황에서는 정보 관리의 필요성이 더욱 커진다. 본 프로젝트는 이러한 문제의식에서 출발하여, ‘약품 정보 조회 및 관리 기능’을 핵심 기능으로 설정하고 사용자 중심의 정보 접근 방식을 구현하고자 하였다.
 
 이를 위해 공공 데이터 API와 식약처 의약품 상세 페이지 웹 크롤링을 통해 신뢰할 수 있는 약품 데이터를 수집하고, 이를 통합·정제하여 서버 측 데이터베이스로 구축하였다. 서버에서는 일관된 데이터 구조로 약품 정보를 관리하며, 모바일 애플리케이션과 연동하여 최신의 정확한 정보를 제공한다. 사용자는 텍스트 검색뿐만 아니라 카메라 촬영을 통해서도 약 정보를 조회할 수 있으며, 검색 결과는 가독성을 고려한 화면 구성으로 제공되어 정보 이해도를 높인다.
 
 궁극적으로 본 프로젝트는 사용자가 일상 속에서 의약품 정보를 보다 안전하고 체계적으로 이해하고 활용할 수 있도록 돕는 것을 핵심 가치로 삼고 있다. 단순한 정보 제공을 넘어, 약 정보의 접근성과 관리 편의성을 개선함으로써 사용자의 올바른 복약 판단을 지원하고, 의약품 사용 과정에서 발생할 수 있는 위험을 줄이는 데 기여하고자 한다.


주요 목표
## 주요 목표
1. 약품 정보를 검색/조회할 수 있는 기능 제공

 본 프로젝트는 사용자에게 약품 정보를 효율적으로 제공하기 위해 FastAPI 기반의 비동기(Asynchronous) RESTful API 서버를 구축했습니다. routers/drugs.py 파일 내에 GET /api/v1/drugs/search 엔드포인트를 정의하여, 모바일 애플리케이션으로부터 전송된 키워드를 기반으로 MySQL 데이터베이스에 저장된 약품 정보를 빠르게 조회할 수 있도록 기능을 구현했습니다. 특히, 모든 조회 기능에는 Depends(get_current_active_user) 의존성 주입을 통해 인증된 사용자만이 서비스에 접근할 수 있도록 보안을 강화했으며, 서버의 모든 I/O 작업(DB 조회)을 비동기 방식으로 처리함으로써 높은 동시 접속 환경에서도 안정적인 응답 속도를 유지하도록 설계했습니다.

2. DB(MySQL), API 기반으로 약품 정보 데이터를 체계적으로 저장 및 관리

 서비스의 핵심 기반인 약품 정보의 신뢰성과 최신성을 확보하기 위해 식품의약품안전처(MFDS)의 공공데이터 API를 활용한 데이터 수집 파이프라인을 구축했습니다. data_updater.py 스크립트를 구현하여 API로부터 데이터를 주기적으로 수집하고 이를 MySQL 데이터베이스에 체계적으로 저장합니다. 이 과정에서 pymysql.err.IntegrityError (Column 'id' cannot be null) 오류를 식별하고 해결하는 작업을 통해, API 응답 필드와 DB 스키마 간의 불일치 문제를 바로잡아 데이터 무결성을 확보했습니다. 필수 약품 식별자(ID)가 누락 없이 DB에 정확하게 삽입되도록 파싱 로직을 개선함으로써, 데이터의 신뢰성을 보장하고 유지보수 가능한 데이터 관리 구조를 확립했습니다.

3. 유지보수 가능한 구조로 구현

 프로젝트의 장기적인 안정성과 개발 효율성을 위해 유지보수가 용이한 모듈화 구조를 채택했습니다. API 엔드포인트는 routers/, 데이터 모델은 schemas/, 그리고 DB 테이블 정의는 models/로 각각 역할을 분리하여 코드를 구성했습니다. 또한, DB 접속 정보나 식약처 API 키와 같은 민감한 설정 값은 .env 파일로 분리하고 dotenv 라이브러리를 통해 로드하여 환경 독립성을 확보했습니다. SQLAlchemy의 타입 힌팅과 Pydantic 모델을 적극적으로 활용하여 코드의 가독성을 높이고 데이터 유효성 검사를 자동화함으로써, 향후 기능 추가나 기술 스택 변경 시 발생하는 위험을 최소화할 수 있도록 견고하게 구현되었습니다.

## 주요 기능
- 홈 화면

  - 카테고리 기반 약 탐색
    (정제 / 시럽·액상 / 기타)
  - 추천 약 목록 제공
  - 최근 검색 약 목록 표시
  - 즐겨찾기 약 목록 제공
    → 클릭 시 약 상세 화면으로 이동
    
- 약 검색

  - 텍스트 기반 검색
    (약 이름 또는 증상 입력)
  - 검색 버튼 클릭 시
    → 약 상세 정보 전체 화면 표시
  - 카메라로 검색 기능
    → 카메라 화면으로 이동

- 카메라 기반 약 인식 (OCR)

  - CameraX 기반 실시간 카메라 프리뷰
  - 사진 촬영 후 ‘분석하기’ 버튼 제공
  - Firebase ML Kit OCR을 활용한 텍스트 인식
  - 인식된 텍스트 기반 약 정보 검색
  - 분석 결과를 전체 화면 상세 페이지로 제공
 
- 약 상세 정보 화면

  - 약 효능·효과
  - 용법·용량
  - 성분 정보
  - 부작용
  - 금기 사항
  - 약물 상호작용 정보
    → 모든 정보는 사용자 가독성을 고려한 단일 스크롤 화면 구성

- 약 정보 탭

  - 상비약 / 처방약 탭 분리 구성
  - 약 종류별 정보 탐색 가능
  - 탭 선택 시 해당 약 정보 화면 표시

- 내 정보 (마이페이지)

  - 내 약 목록 (MY MEDS)
    - 저장한 약 보기
    = 복용 중인 약 관리
  - 건강 정보 (HEALTH INFO)
    - 복용 중인 약품
    - 알레르기 정보
  - 기록 (HISTORY)
    - 최근 검색 기록
    - 기록 전체 관리
  - 계정 정보 (ACCOUNT)
    - 프로필 정보
    - 이메일 계정 정보

  ## 2. 팀원 명단 및 역할
  
| 구분 | 학번 | 이름 | 역할 | 담당 내용 |
|------|------|------|------|-----------|
| 팀장 | 202378166 |  박민지  | PM | 프로젝트 기획 및 일정 관리, 전체 시스템 구조 설계, MySQL 및 API 데이터베이스 설계 |
| 팀원 | 202378174 |  차명준  | Frontend(Vision) | 전체 시스템 구조 설계, 약 이미지 인식 및 처리, 사용자 입력 이미지 분석, 애플리케이션 ui 구현 |
| 팀원 | 202378231 |  김준서  | Backend | 전체 시스템 구조 설계, 백엔드 서버 및 API 처리 로직 구현 |

## 코드 구조
```
docs/
프로젝트 기획서, 주간 연구일지 등 문서 자료

src/
프로젝트의 주요 소스 코드
├ backend/
│ 서버 및 API 처리 로직
├ database/
│ MySQL 데이터베이스 관련 스키마 및 DB 처리 코드
└ vision/
이미지 인식 및 처리 관련 코드

assets/
이미지 및 기타 리소스 파일
```
